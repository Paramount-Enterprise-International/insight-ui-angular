<i-section>
  <i-section-body>
    <div class="flex flex-col gap-md">
      <h1>Toggle Component</h1>
      <div><code>i-toggle</code> Component</div>
      <p>
        The Toggle component is a customizable switch control that supports both standalone usage
        and Angular Forms integration. It implements ControlValueAccessor for seamless form binding
        and includes accessibility features.
      </p>

      <br />
      <h2>Component Overview</h2>
      <p>The Toggle component is a standalone Angular component with the following features:</p>
      <ul>
        <li><strong>Selector:</strong> <code>i-toggle</code></li>
        <li><strong>Standalone:</strong> Yes</li>
        <li><strong>Change Detection:</strong> OnPush strategy for better performance</li>
        <li>
          <strong>Forms Integration:</strong> Implements ControlValueAccessor for reactive forms
        </li>
        <li>
          <strong>Content Projection:</strong> Supports label content via
          <code>&lt;ng-content&gt;</code>
        </li>
      </ul>

      <br />

      <br />
      <h2>Component Properties</h2>
      <table>
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Required</th>
            <th>Default Value</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>disabled</code></td>
            <td><code>boolean</code></td>
            <td>Optional</td>
            <td><code>false</code></td>
            <td>Disables the toggle interaction</td>
          </tr>
          <tr>
            <td><code>labelPosition</code></td>
            <td><code>'left' | 'right'</code></td>
            <td>Optional</td>
            <td><code>'right'</code></td>
            <td>Position of the label relative to the toggle switch</td>
          </tr>
          <tr>
            <td><code>checked</code></td>
            <td><code>boolean</code></td>
            <td>Internal</td>
            <td><code>false</code></td>
            <td>Current state of the toggle (internal property)</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>Event Properties</h2>
      <table>
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>onChange</code></td>
            <td><code>EventEmitter&lt;boolean&gt;</code></td>
            <td>Emitted when the toggle state changes</td>
          </tr>
          <tr>
            <td><code>onTouched</code></td>
            <td><code>EventEmitter&lt;void&gt;</code></td>
            <td>Emitted when the toggle loses focus (touched)</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>View Child References</h2>
      <table>
        <thead>
          <tr>
            <th>Reference</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>inputRef</code></td>
            <td><code>ElementRef&lt;HTMLInputElement&gt;</code></td>
            <td>Reference to the native checkbox input element</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>Host Bindings</h2>
      <p>The component uses several host bindings for styling:</p>
      <table>
        <thead>
          <tr>
            <th>Binding</th>
            <th>CSS Class</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>baseClass</code></td>
            <td><code>class.i-toggle</code></td>
            <td>Base CSS class for the component</td>
          </tr>
          <tr>
            <td><code>activeClass()</code></td>
            <td><code>class.i-toggle__active</code></td>
            <td>Applied when toggle is checked</td>
          </tr>
          <tr>
            <td><code>disabledClass()</code></td>
            <td><code>class.i-toggle__disabled</code></td>
            <td>Applied when toggle is disabled</td>
          </tr>
          <tr>
            <td><code>labelLeftClass()</code></td>
            <td><code>class.i-toggle__label-left</code></td>
            <td>Applied when label position is 'left'</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>ControlValueAccessor Methods</h2>
      <table>
        <thead>
          <tr>
            <th>Method</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>writeValue(value: boolean | null)</code></td>
            <td>Writes a new value to the toggle from Angular Forms</td>
          </tr>
          <tr>
            <td><code>registerOnChange(fn: (value: boolean) => void)</code></td>
            <td>Registers callback for value changes</td>
          </tr>
          <tr>
            <td><code>registerOnTouched(fn: () => void)</code></td>
            <td>Registers callback for touch events</td>
          </tr>
          <tr>
            <td><code>setDisabledState(isDisabled: boolean)</code></td>
            <td>Sets the disabled state from Angular Forms</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>Event Handlers</h2>
      <table>
        <thead>
          <tr>
            <th>Handler</th>
            <th>Trigger</th>
            <th>Behavior</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>handleNativeChange(e: Event)</code></td>
            <td>Native input change event</td>
            <td>Updates state, calls CVA onChange, emits onChange event</td>
          </tr>
          <tr>
            <td><code>handleBlur()</code></td>
            <td>Input blur event</td>
            <td>Calls CVA onTouched, emits onTouched event</td>
          </tr>
          <tr>
            <td><code>onHostClick(e: MouseEvent)</code></td>
            <td>Host click listener</td>
            <td>Handles click events, prevents toggling when clicking interactive elements</td>
          </tr>
        </tbody>
      </table>

      <br />
      <h2>Helper Methods</h2>
      <table>
        <thead>
          <tr>
            <th>Method</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <code>isInteractiveElement(el: HTMLElement | null): boolean</code>
            </td>
            <td>Checks if an element is interactive (prevents accidental toggles)</td>
          </tr>
        </tbody>
      </table>

      <br />

      <h2>Examples</h2>

      <p>Basic Toggle Usage</p>
      <i-section>
        <i-section-tabs height="300">
          <i-section-tab title="Preview">
            <div class="flex flex-col gap-md justify-center align-center h-full p-6">
              <i-toggle>Default Toggle</i-toggle>
              <i-toggle [disabled]="true">Disabled Toggle</i-toggle>
            </div>
          </i-section-tab>
          <i-section-tab title="HTML">
            <i-code-viewer class="h-full" file="docs/basic-toggle.html" />
          </i-section-tab>
          <i-section-tab title="Typescript">
            <i-code-viewer class="h-full" file="docs/basic-toggle.ts" />
          </i-section-tab>
        </i-section-tabs>
      </i-section>

      <br />
      <p>Toggle with Forms Integration</p>
      <i-section>
        <i-section-tabs height="300">
          <i-section-tab title="Preview">
            <div class="flex flex-col gap-md justify-center align-center h-full p-16">
              <form [formGroup]="settingsForm">
                <i-toggle formControlName="notifications"> Enable Notifications </i-toggle>
                <i-toggle formControlName="darkMode"> Dark Mode </i-toggle>
                <i-toggle formControlName="autoSave"> Auto Save </i-toggle>
              </form>
            </div>
          </i-section-tab>
          <i-section-tab title="HTML">
            <i-code-viewer class="h-full" file="docs/toggle-forms.html" />
          </i-section-tab>
          <i-section-tab title="Typescript">
            <i-code-viewer class="h-full" file="docs/toggle-forms.ts" />
          </i-section-tab>
        </i-section-tabs>
      </i-section>

      <br />
      <p>Toggle with Event Handling</p>
      <i-section>
        <i-section-tabs height="300">
          <i-section-tab title="Preview">
            <div class="flex flex-col gap-md justify-center align-center h-full p-6">
              <i-toggle (onChange)="onToggleChange($event)" (onTouched)="onToggleTouched()">
                With Event Listeners
              </i-toggle>
              <div class="mt-2 text-sm text-gray-600">Current State: {{ toggleState }}</div>
            </div>
          </i-section-tab>
          <i-section-tab title="HTML">
            <i-code-viewer class="h-full" file="docs/toggle-events.html" />
          </i-section-tab>
          <i-section-tab title="Typescript">
            <i-code-viewer class="h-full" file="docs/toggle-events.ts" />
          </i-section-tab>
        </i-section-tabs>
      </i-section>

      <br />
    </div>
  </i-section-body>
</i-section>
