<i-section>
  <i-section-header>Request List</i-section-header>
  <i-section-filter>
    <form
      class="flex gap-md flex-fill align-center"
      [formGroup]="basicFormGroup"
      (ngSubmit)="onSubmit()"
    >
      <i-fc-datepicker class="w-15" formControlName="dateFrom" label="Request Date From" />
      <i-fc-datepicker class="w-15" formControlName="dateTo" label="Request Date To" />
      <i-fc-input class="flex-fill" formControlName="search" label="Search" />
      <i-button icon="fa-solid fa-magnifying-glass" type="submit">Filter</i-button>
    </form>
    <i-button icon="add" (onClick)="createRequest()">Create Request</i-button>
  </i-section-filter>
  <i-section-body class="p-0">
    <i-grid [dataSource]="dataSource">
      <i-grid-column fieldName="requestCode" [freeze]="true" [width]="150">
        <i-grid-cell *iCellDef="let row">
          <div>
            <p class="font-semibold">{{ row.requestCode }}</p>
            <!-- <div class="border border-blue-300 bg-blue-100 text-center border-xs border-rouded-sm"> -->
            <p class="text-info">{{ row.requestDate }}</p>
            <!-- </div> -->
          </div>
        </i-grid-cell>
      </i-grid-column>
      <i-grid-column fieldName="title" title="Title" [width]="300" />
      <i-grid-column fieldName="location" title="Location" [width]="260" />
      <i-grid-column fieldName="destination" title="Destination Division" [width]="200" />
      <i-grid-column fieldName="status" title="Status" [width]="150">
        <i-grid-cell *iCellDef="let row">
          @if (row.status === 'Pending') {
            <!-- <div
              class="status-badge flex items-centr align-center justify-center gap-2 border border-rouded-lg text-center border-xs w-11 bg-amber-100 border-amber-300"
             
            > -->
            <span class="text-warning">{{ row.status }}</span>

            <!-- </div> -->
          }

          @if (row.status === 'Approved') {
            <span class="text-success">{{ row.status }}</span>
          }

          @if (row.status === 'Rejected') {
            <span class="text-danger">{{ row.status }}</span>
          }

          @if (row.status === 'In Progress') {
            <span class="text-info">{{ row.status }}</span>
          }
        </i-grid-cell>
      </i-grid-column>

      <i-grid-custom-column title="Actions" [width]="90">
        <i-grid-cell *iCellDef="let row">
          <i-button icon="edit" size="xs" (onClick)="editRequest(row.id)" />

          <i-button icon="delete" size="xs" (onClick)="deleteData(row.id)" />
        </i-grid-cell>
      </i-grid-custom-column>
    </i-grid>
  </i-section-body>
</i-section>
